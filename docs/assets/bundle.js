(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const h of r)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function n(r){const h={};return r.integrity&&(h.integrity=r.integrity),r.referrerPolicy&&(h.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?h.credentials="include":r.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(r){if(r.ep)return;r.ep=!0;const h=n(r);fetch(r.href,h)}})();function E(){}function ae(e){return e()}function X(){return Object.create(null)}function j(e){e.forEach(ae)}function z(e){return typeof e=="function"}function Y(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ve(e){return Object.keys(e).length===0}function oe(e,...t){if(e==null)return E;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Q(e,t,n){e.$$.on_destroy.push(oe(t,n))}function Z(e,t,n){return e.set(n),t}const be=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function M(e,t){e.appendChild(t)}function D(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode&&e.parentNode.removeChild(e)}function C(e){return document.createElement(e)}function we(e){return document.createTextNode(e)}function O(){return we(" ")}function _e(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function S(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ye(e){return Array.from(e.childNodes)}let W;function R(e){W=e}function Ee(){if(!W)throw new Error("Function called outside component initialization");return W}function Ie(e){Ee().$$.on_mount.push(e)}const A=[],ee=[];let P=[];const te=[],xe=Promise.resolve();let q=!1;function Me(){q||(q=!0,xe.then(le))}function G(e){P.push(e)}const U=new Set;let T=0;function le(){if(T!==0)return;const e=W;do{try{for(;T<A.length;){const t=A[T];T++,R(t),Te(t.$$)}}catch(t){throw A.length=0,T=0,t}for(R(null),A.length=0,T=0;ee.length;)ee.pop()();for(let t=0;t<P.length;t+=1){const n=P[t];U.has(n)||(U.add(n),n())}P.length=0}while(A.length);for(;te.length;)te.pop()();q=!1,U.clear(),R(e)}function Te(e){if(e.fragment!==null){e.update(),j(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}function $e(e){const t=[],n=[];P.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),P=t}const L=new Set;let Ce;function ue(e,t){e&&e.i&&(L.delete(e),e.i(t))}function Se(e,t,n,s){if(e&&e.o){if(L.has(e))return;L.add(e),Ce.c.push(()=>{L.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function Ae(e){e&&e.c()}function ce(e,t,n,s){const{fragment:r,after_update:h}=e.$$;r&&r.m(t,n),s||G(()=>{const g=e.$$.on_mount.map(ae).filter(z);e.$$.on_destroy?e.$$.on_destroy.push(...g):j(g),e.$$.on_mount=[]}),h.forEach(G)}function fe(e,t){const n=e.$$;n.fragment!==null&&($e(n.after_update),j(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Pe(e,t){e.$$.dirty[0]===-1&&(A.push(e),Me(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function de(e,t,n,s,r,h,g,d=[-1]){const m=W;R(e);const u=e.$$={fragment:null,ctx:[],props:h,update:E,not_equal:r,bound:X(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(m?m.$$.context:[])),callbacks:X(),dirty:d,skip_bound:!1,root:t.target||m.$$.root};g&&g(u.root);let _=!1;if(u.ctx=n?n(e,t.props||{},(w,c,...o)=>{const l=o.length?o[0]:c;return u.ctx&&r(u.ctx[w],u.ctx[w]=l)&&(!u.skip_bound&&u.bound[w]&&u.bound[w](l),_&&Pe(e,w)),c}):[],u.update(),_=!0,j(u.before_update),u.fragment=s?s(u.ctx):!1,t.target){if(t.hydrate){const w=ye(t.target);u.fragment&&u.fragment.l(w),w.forEach(k)}else u.fragment&&u.fragment.c();t.intro&&ue(e.$$.fragment),ce(e,t.target,t.anchor,t.customElement),le()}R(m)}class he{$destroy(){fe(this,1),this.$destroy=E}$on(t,n){if(!z(n))return E;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(t){this.$$set&&!ve(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ge(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var He="Expected a function",ne=0/0,Oe="[object Symbol]",Re=/^\s+|\s+$/g,We=/^[-+]0x[0-9a-f]+$/i,je=/^0b[01]+$/i,Ne=/^0o[0-7]+$/i,Le=parseInt,ke=typeof N=="object"&&N&&N.Object===Object&&N,Be=typeof self=="object"&&self&&self.Object===Object&&self,ze=ke||Be||Function("return this")(),Ue=Object.prototype,Fe=Ue.toString,De=Math.max,qe=Math.min,F=function(){return ze.Date.now()};function Ge(e,t,n){var s,r,h,g,d,m,u=0,_=!1,w=!1,c=!0;if(typeof e!="function")throw new TypeError(He);t=ie(t)||0,V(n)&&(_=!!n.leading,w="maxWait"in n,h=w?De(ie(n.maxWait)||0,t):h,c="trailing"in n?!!n.trailing:c);function o(v){var x=s,H=r;return s=r=void 0,u=v,g=e.apply(H,x),g}function l(v){return u=v,d=setTimeout(a,t),_?o(v):g}function p(v){var x=v-m,H=v-u,K=t-x;return w?qe(K,h-H):K}function i(v){var x=v-m,H=v-u;return m===void 0||x>=t||x<0||w&&H>=h}function a(){var v=F();if(i(v))return f(v);d=setTimeout(a,p(v))}function f(v){return d=void 0,c&&s?o(v):(s=r=void 0,g)}function b(){d!==void 0&&clearTimeout(d),u=0,s=m=r=d=void 0}function y(){return d===void 0?g:f(F())}function I(){var v=F(),x=i(v);if(s=arguments,r=this,m=v,x){if(d===void 0)return l(m);if(w)return d=setTimeout(a,t),o(m)}return d===void 0&&(d=setTimeout(a,t)),g}return I.cancel=b,I.flush=y,I}function V(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Ve(e){return!!e&&typeof e=="object"}function Ye(e){return typeof e=="symbol"||Ve(e)&&Fe.call(e)==Oe}function ie(e){if(typeof e=="number")return e;if(Ye(e))return ne;if(V(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=V(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Re,"");var n=je.test(e);return n||Ne.test(e)?Le(e.slice(2),n?2:8):We.test(e)?ne:+e}var Je=Ge;const se=ge(Je),$=[];function Ke(e,t){return{subscribe:J(e,t).subscribe}}function J(e,t=E){let n;const s=new Set;function r(d){if(Y(e,d)&&(e=d,n)){const m=!$.length;for(const u of s)u[1](),$.push(u,e);if(m){for(let u=0;u<$.length;u+=2)$[u][0]($[u+1]);$.length=0}}}function h(d){r(d(e))}function g(d,m=E){const u=[d,m];return s.add(u),s.size===1&&(n=t(r)||E),d(e),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:r,update:h,subscribe:g}}function me(e,t,n){const s=!Array.isArray(e),r=s?[e]:e,h=t.length<2;return Ke(n,g=>{let d=!1;const m=[];let u=0,_=E;const w=()=>{if(u)return;_();const o=t(s?m[0]:m,g);h?g(o):_=z(o)?o:E},c=r.map((o,l)=>oe(o,p=>{m[l]=p,u&=~(1<<l),d&&w()},()=>{u|=1<<l}));return d=!0,w(),function(){j(c),_(),d=!1}})}const B=J(window.innerWidth),re=J(window.innerHeight);me(B,e=>e<=560);me(B,e=>e>1200);const{window:Xe}=be;function Qe(e){let t,n;return{c:E,m(s,r){t||(n=_e(Xe,"resize",function(){z(se(e[1],e[0]))&&se(e[1],e[0]).apply(this,arguments)}),t=!0)},p(s,[r]){e=s},i:E,o:E,d(s){t=!1,n()}}}function Ze(e,t,n){let s,r;Q(e,re,d=>n(2,s=d)),Q(e,B,d=>n(3,r=d));let{debounceDur:h=100}=t;const g=()=>{Z(B,r=window.innerWidth,r),Z(re,s=window.innerHeight,s)};return Ie(()=>{g()}),e.$$set=d=>{"debounceDur"in d&&n(0,h=d.debounceDur)},[h,g]}class et extends he{constructor(t){super(),de(this,t,Ze,Qe,Y,{debounceDur:0})}}var pe={exports:{}};/*! pym.js - v1.3.2 - 2018-02-13 */(function(e){(function(t){e.exports?e.exports=t():window.pym=t.call(this)})(function(){var t="xPYMx",n={},s=function(c){var o=document.createEvent("Event");o.initEvent("pym:"+c,!0,!0),document.dispatchEvent(o)},r=function(c){var o=new RegExp("[\\?&]"+c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)"),l=o.exec(location.search);return l===null?"":decodeURIComponent(l[1].replace(/\+/g," "))},h=function(c,o){if(!(o.xdomain!=="*"&&!c.origin.match(new RegExp(o.xdomain+"$")))&&typeof c.data=="string")return!0},g=function(c){var o=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/gi;if(c.match(o))return!0},d=function(c,o,l){var p=["pym",c,o,l];return p.join(t)},m=function(c){var o=["pym",c,"(\\S+)","(.*)"];return new RegExp("^"+o.join(t)+"$")},u=Date.now||function(){return new Date().getTime()},_=function(c,o,l){var p,i,a,f=null,b=0;l||(l={});var y=function(){b=l.leading===!1?0:u(),f=null,a=c.apply(p,i),f||(p=i=null)};return function(){var I=u();!b&&l.leading===!1&&(b=I);var v=o-(I-b);return p=this,i=arguments,v<=0||v>o?(f&&(clearTimeout(f),f=null),b=I,a=c.apply(p,i),f||(p=i=null)):!f&&l.trailing!==!1&&(f=setTimeout(y,v)),a}},w=function(){for(var c=n.autoInitInstances.length,o=c-1;o>=0;o--){var l=n.autoInitInstances[o];l.el.getElementsByTagName("iframe").length&&l.el.getElementsByTagName("iframe")[0].contentWindow||n.autoInitInstances.splice(o,1)}};return n.autoInitInstances=[],n.autoInit=function(c){var o=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),l=o.length;w();for(var p=0;p<l;++p){var i=o[p];i.setAttribute("data-pym-auto-initialized",""),i.id===""&&(i.id="pym-"+p+"-"+Math.random().toString(36).substr(2,5));var a=i.getAttribute("data-pym-src"),f={xdomain:"string",title:"string",name:"string",id:"string",sandbox:"string",allowfullscreen:"boolean",parenturlparam:"string",parenturlvalue:"string",optionalparams:"boolean",trackscroll:"boolean",scrollwait:"number"},b={};for(var y in f)if(i.getAttribute("data-pym-"+y)!==null)switch(f[y]){case"boolean":b[y]=i.getAttribute("data-pym-"+y)!=="false";break;case"string":b[y]=i.getAttribute("data-pym-"+y);break;case"number":var I=Number(i.getAttribute("data-pym-"+y));isNaN(I)||(b[y]=I);break;default:console.err("unrecognized attribute type")}var v=new n.Parent(i.id,a,b);n.autoInitInstances.push(v)}return c||s("pym-initialized"),n.autoInitInstances},n.Parent=function(c,o,l){this.id=c,this.url=o,this.el=document.getElementById(c),this.iframe=null,this.settings={xdomain:"*",optionalparams:!0,parenturlparam:"parentUrl",parenturlvalue:window.location.href,trackscroll:!1,scrollwait:100},this.messageRegex=m(this.id),this.messageHandlers={},l=l||{},this._constructIframe=function(){var i=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var a="",f=this.url.indexOf("#");for(f>-1&&(a=this.url.substring(f,this.url.length),this.url=this.url.substring(0,f)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+i+"&childId="+this.id,this.settings.optionalparams&&(this.iframe.src+="&parentTitle="+encodeURIComponent(document.title),this.iframe.src+="&"+this.settings.parenturlparam+"="+encodeURIComponent(this.settings.parenturlvalue)),this.iframe.src+=a,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.settings.title&&this.iframe.setAttribute("title",this.settings.title),this.settings.allowfullscreen!==void 0&&this.settings.allowfullscreen!==!1&&this.iframe.setAttribute("allowfullscreen",""),this.settings.sandbox!==void 0&&typeof this.settings.sandbox=="string"&&this.iframe.setAttribute("sandbox",this.settings.sandbox),this.settings.id&&(document.getElementById(this.settings.id)||this.iframe.setAttribute("id",this.settings.id)),this.settings.name&&this.iframe.setAttribute("name",this.settings.name);this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize),this.settings.trackscroll&&window.addEventListener("scroll",this._throttleOnScroll)},this._onResize=(function(){this.sendWidth(),this.settings.trackscroll&&this.sendViewportAndIFramePosition()}).bind(this),this._onScroll=(function(){this.sendViewportAndIFramePosition()}).bind(this),this._fire=function(i,a){if(i in this.messageHandlers)for(var f=0;f<this.messageHandlers[i].length;f++)this.messageHandlers[i][f].call(this,a)},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe),w()},this._processMessage=(function(i){if(h(i,this.settings)&&typeof i.data=="string"){var a=i.data.match(this.messageRegex);if(!a||a.length!==3)return!1;var f=a[1],b=a[2];this._fire(f,b)}}).bind(this),this._onHeightMessage=function(i){var a=parseInt(i);this.iframe.setAttribute("height",a+"px")},this._onNavigateToMessage=function(i){g(i)&&(document.location.href=i)},this._onScrollToChildPosMessage=function(i){var a=document.getElementById(this.id).getBoundingClientRect().top+window.pageYOffset,f=a+parseInt(i);window.scrollTo(0,f)},this.onMessage=function(i,a){i in this.messageHandlers||(this.messageHandlers[i]=[]),this.messageHandlers[i].push(a)},this.sendMessage=function(i,a){this.el.getElementsByTagName("iframe").length&&(this.el.getElementsByTagName("iframe")[0].contentWindow?this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(d(this.id,i,a),"*"):this.remove())},this.sendWidth=function(){var i=this.el.offsetWidth.toString();this.sendMessage("width",i)},this.sendViewportAndIFramePosition=function(){var i=this.iframe.getBoundingClientRect(),a=window.innerWidth||document.documentElement.clientWidth,f=window.innerHeight||document.documentElement.clientHeight,b=a+" "+f;b+=" "+i.top+" "+i.left,b+=" "+i.bottom+" "+i.right,this.sendMessage("viewport-iframe-position",b)};for(var p in l)this.settings[p]=l[p];return this._throttleOnScroll=_(this._onScroll.bind(this),this.settings.scrollwait),this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),this.onMessage("scrollToChildPos",this._onScrollToChildPosMessage),this.onMessage("parentPositionInfo",this.sendViewportAndIFramePosition),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},n.Child=function(c){this.parentWidth=null,this.id=null,this.parentTitle=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0,parenturlparam:"parentUrl"},this.timerId=null,this.messageRegex=null,this.messageHandlers={},c=c||{},this.onMessage=function(i,a){i in this.messageHandlers||(this.messageHandlers[i]=[]),this.messageHandlers[i].push(a)},this._fire=function(i,a){if(i in this.messageHandlers)for(var f=0;f<this.messageHandlers[i].length;f++)this.messageHandlers[i][f].call(this,a)},this._processMessage=(function(i){if(h(i,this.settings)&&typeof i.data=="string"){var a=i.data.match(this.messageRegex);if(!(!a||a.length!==3)){var f=a[1],b=a[2];this._fire(f,b)}}}).bind(this),this._onWidthMessage=function(i){var a=parseInt(i);a!==this.parentWidth&&(this.parentWidth=a,this.settings.renderCallback&&this.settings.renderCallback(a),this.sendHeight())},this.sendMessage=function(i,a){window.parent.postMessage(d(this.id,i,a),"*")},this.sendHeight=(function(){var i=document.getElementsByTagName("body")[0].offsetHeight.toString();return this.sendMessage("height",i),i}).bind(this),this.getParentPositionInfo=function(){this.sendMessage("parentPositionInfo")},this.scrollParentTo=function(i){this.sendMessage("navigateTo","#"+i)},this.navigateParentTo=function(i){this.sendMessage("navigateTo",i)},this.scrollParentToChildEl=function(i){var a=document.getElementById(i).getBoundingClientRect().top+window.pageYOffset;this.scrollParentToChildPos(a)},this.scrollParentToChildPos=function(i){this.sendMessage("scrollToChildPos",i.toString())};var o=function(i){var a=document.getElementsByTagName("html")[0],f,b=a.className;try{window.self!==window.top?f="embedded":f="not-embedded"}catch{f="embedded"}b.indexOf(f)<0&&(a.className=b?b+" "+f:f,i&&i(f),s("marked-embedded"))};this.remove=function(){window.removeEventListener("message",this._processMessage),this.timerId&&clearInterval(this.timerId)};for(var l in c)this.settings[l]=c[l];this.id=r("childId")||c.id,this.messageRegex=new RegExp("^pym"+t+this.id+t+"(\\S+)"+t+"(.*)$");var p=parseInt(r("initialWidth"));return this.parentUrl=r(this.settings.parenturlparam),this.parentTitle=r("parentTitle"),this.onMessage("width",this._onWidthMessage),window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(p),this.sendHeight(),this.settings.polling&&(this.timerId=window.setInterval(this.sendHeight,this.settings.polling)),o(c.onMarkedEmbeddedStatus),this},typeof document<"u"&&n.autoInit(!0),n})})(pe);var tt=pe.exports;const nt=ge(tt);function it(e){let t;return{c(){t=C("div"),t.innerHTML=`Data: State agencies; Graphic by Jared Whalen /
      <a target="_blank" href="https://agwaterdesk.org/">Ag &amp; Water Desk</a>`,S(t,"class","credit")},m(n,s){D(n,t,s)},d(n){n&&k(t)}}}function st(e){let t,n,s,r,h,g,d,m,u,_,w,c;t=new et({});let o=e[0]&&it();return{c(){Ae(t.$$.fragment),n=O(),s=C("div"),r=C("h1"),r.innerHTML=`States along the Mississippi River <span class="g-span g-with svelte-1gjumov">with</span>
    and <span class="g-span g-without svelte-1gjumov">without</span> historical nitrogen and phosphorus
    baselines`,h=O(),g=C("p"),g.textContent=`States along the Mississippi River track nitrogen and phosphorus levels using
    direct measurements and modeling to assess water quality and the impact of
    agricultural runoff. Having a historical baseline enables these states to
    monitor changes over time, helping to gauge the effectiveness of pollution
    control measures and guide environmental policy decisions.`,d=O(),m=C("p"),m.textContent=`Two maps of the United States highlighting states along the Mississippi
    River with and without historical nitrogen and phosphorus baselines. States
    without nitrogen baselines are Louisiana, Tennessee and Wisconsin. States
    without phosphorus baselines are Tennessee and Louisiana.`,u=O(),_=C("div"),_.innerHTML=`<div class="box"><h2 class="svelte-1gjumov">Nitrogen</h2> 
      <img src="nitrogen.png"/></div> 

    <div class="box"><h2 class="svelte-1gjumov">Phosphorus</h2> 
      <img src="phosphorus.png"/></div>`,w=O(),o&&o.c(),S(r,"class","headline"),S(g,"class","dek"),S(m,"class","sr-only"),S(_,"class","flex svelte-1gjumov"),S(s,"class","chart-container svelte-1gjumov")},m(l,p){ce(t,l,p),D(l,n,p),D(l,s,p),M(s,r),M(s,h),M(s,g),M(s,d),M(s,m),M(s,u),M(s,_),M(s,w),o&&o.m(s,null),c=!0},p:E,i(l){c||(ue(t.$$.fragment,l),c=!0)},o(l){Se(t.$$.fragment,l),c=!1},d(l){fe(t,l),l&&k(n),l&&k(s),o&&o.d()}}}function rt(e){return new URLSearchParams(window.location.search).get(e)}function at(e){return new nt.Child({polling:500}),[rt("credit")!="false"]}class ot extends he{constructor(t){super(),de(this,t,at,st,Y,{})}}new ot({target:document.getElementById("app")});
